<%= link_to "新規投稿へ", new_post_path %>
<% @posts.each do |p| %>
    <p class="text"><%= p.body %></p>
<% end %>
<button onClick="getValue()">ボタン</button>

<script>
  function getValue() {
    // const paracontent = document.getElementsCLassName('text').textContent;
    var c = <%= @count %>;
    for (var i = 0; i<c; i++) {
        const paracontent = document.getElementsByClassName('text')[i].textContent;
        const link ="商品ページへ".link("http://www.dmm.com/netgame/feature/kancolle.html");

        console.log(link);

        var result = paracontent.replace("これ", "これ"+link);

        let para = document.createElement('p');
        para.innerHTML = result;
        document.body.appendChild(para);
    }
  }
</script>